<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Commissions.css" />
    <link
      rel="stylesheet"
      href="https://unicons.iconscout.com/release/v4.0.0/css/line.css"
    />
    <title>Sales Commission Tracker</title>
  </head>

  <body>
    <div class="container">
      <!-- Sidebar Section -->
      <aside>
        <div class="toggle">
          <div class="logo">
            <img src="../../images/DATCOM.png" />
            <h2>Dat<span class="danger">Com</span></h2>
          </div>
          <div class="close" id="close-btn">
            <span class="material-icons-sharp">close</span>
          </div>
        </div>

        <div class="sidebar">
          <a href="../Main_Page/Main_Page.html">
            <span class="material-icons-sharp">dashboard</span>
            <h3>Dashboard</h3>
          </a>

          <a href="Commissions.html">
            <span class="material-icons-sharp">paid</span>
            <h3>Commissions</h3>
          </a>
          <a href="../Report/Reports.html">
            <span class="material-icons-sharp">article</span>
            <h3>Reports</h3>
          </a>

          <a href="../../Login/login.html">
            <span class="material-icons-sharp">logout</span>
            <h3>Sign Out</h3>
          </a>
        </div>
      </aside>
      <!-- End of Sidebar -->

      <!-- Main Page -->
      <main>
        <h1>Commissions</h1>
        <div class="user-div">
          <div class="table-header">
            <button class="action-btn add-btn" id="openModalBtn" hidden>
              Add New Commission
            </button>
            <input
              type="text"
              id="searchbar"
              placeholder="Search..."
              class="search-bar"
            />
          </div>
          <table class="user-table">
            <thead>
              <tr>
                <th>Commission ID</th>

                <th>Agent name</th>
                <th>Total Commission</th>
                <th>Approval Status</th>
                <!-- <th>Action</th>-->
              </tr>
            </thead>
            <tbody>
              <!-- Table rows will be inserted here by JS -->
            </tbody>
          </table>
        </div>
      </main>
      <!-- End of Main Content -->

      <!-- Right Section Nav -->
      <div class="right-section">
        <div class="nav">
          <button id="menu-btn">
            <span class="material-icons-sharp">menu</span>
          </button>
          <div class="dark-mode">
            <span class="material-icons-sharp active">light_mode</span>
            <span class="material-icons-sharp">dark_mode</span>
          </div>
          <div class="profile">
            <div class="info">
              <p>Hey, <b> manager</b></p>
              <small class="text-muted">Unit Manager</small>
            </div>
            <div class="profile-photo">
              <img src="../../images/Profile-2.png" />
            </div>
          </div>
        </div>
      </div>
      <!-- End of Nav -->

      <!-- Modal Form -->
      <div class="modal" id="registerModal">
        <div class="modal-content">
          <header>Manage Commission</header>
          <form action="#">
            <div class="form first">
              <div class="personal info">
                <span class="title">Update Commission Details</span>
                <div class="fields">
                  <div class="input-field">
                    <label>Transaction Number</label>
                    <input
                      type="number"
                      id="transactionNumber"
                      placeholder="Transaction Number"
                      readonly
                    />
                  </div>

                  <div class="input-field">
                    <label>Transaction Date</label>
                    <input
                      type="text"
                      id="transactionDate"
                      placeholder="Transaction Date"
                      required
                      readonly
                    />
                  </div>

                  <div class="input-field">
                    <label>Agent Names</label>
                    <select name="agentname" id="agentDropDown" required>
                      <!-- Agents names from db through JS -->
                    </select>
                  </div>

                  <div class="input-field">
                    <label>Total Sales</label>
                    <input
                      type="number"
                      id="totalSales"
                      placeholder="Total Sales"
                      readonly
                    />
                  </div>

                  <div class="input-field">
                    <label>Commission Rate(%)</label>
                    <input
                      type="number"
                      id="commissionRate"
                      placeholder="Commission Rate"
                      required
                      readonly
                    />
                  </div>

                  <div class="input-field">
                    <label>Total Commission</label>
                    <input
                      type="number"
                      id="totalCommission"
                      name="totalcommission"
                      placeholder="total commission"
                      readonly
                    />
                  </div>

                  <div class="input-field" id="statusContainer">
                    <label for="status">Approval Status:</label>
                    <select name="status" id="status" required disabled>
                      <option value="Pending">Pending</option>
                    </select>
                  </div>
                </div>

                <!-- Buttons -->
                <div class="buttons">
                  <button type="button" class="backBtn" id="closeModalBtn">
                    <span class="btnText">Close</span>
                  </button>
                  <button type="submit" class="submit">
                    <span class="submitBtn">Submit</span>
                  </button>
                </div>

                <!-- Embedded Commission Lines -->
                <div
                  class="commission-lines-section hidden"
                  id="embeddedCommissionLines"
                >
                  <header>Commission Lines</header>
                  <div class="commission-fields">
                    <label
                      >Subtotal: <input type="number" id="subtotal" readonly
                    /></label>
                    <button
                      class="action-btn add-btn"
                      type="button"
                      id="addLineBtn"
                    >
                      Add
                    </button>
                  </div>

                  <div class="add-entry-fields">
                    <div class="input-field">
                      <select name="card" id="cardsDropDown" required>
                        <!-- Card names from db through JS -->
                      </select>
                    </div>

                    <input
                      type="text"
                      placeholder="Client Name"
                      id="clientNameInput"
                    />
                    <input
                      type="number"
                      placeholder="Quantity"
                      id="quantityInput"
                    />
                    <input
                      type="number"
                      placeholder="Amount"
                      id="cardAmount"
                      readonly
                    />
                    <input
                      type="number"
                      placeholder="Total Amount"
                      id="totalInput"
                      readonly
                    />
                  </div>
                  <div id="commissionLinesWrapper" class="table-wrapper">
                    <table class="commission-lines-table">
                      <thead>
                        <tr>
                          <th>Card</th>
                          <th>Client Name</th>
                          <th>Quantity</th>
                          <th>Amount</th>
                          <th>Total Amount</th>
                        </tr>
                      </thead>
                      <tbody id="commissionLinesTableBody">
                        <!-- Dynamic rows -->
                        <tr class="no-data">
                          <td
                            colspan="5"
                            style="text-align: center; color: #aaa"
                          >
                            No commission lines yet
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <!-- End of Modal -->
    </div>

    <script src="../Main_Page/Main_Page.js"></script>
    <script src="Commissions.js"></script>
  </body>
</html>
